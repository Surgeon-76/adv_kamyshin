Таблицы:
    Table user 
    https://github.com/akproger/poiskuslug/tree/main/api/users

Table categories
    Категории
    вид сделки   choisefield : Optional(продать,сдать)
    вид жилья   choisefield : Optional(комерческая,жилая недвижимость)
    boolean ( посуточно или нет)

Table address
    Адрес
    address = models.CharField('Адрес пользователя', max_length=1000)
    street = models.CharField('улица', max_length=255, default='')
    apartment_number = models.CharField('номер квартиры', max_length=255, default='')
    locality = models.CharField('Населеный пункт', max_length=255, default='')
    микрорайон models.CharField('Населеный пункт', max_length=255, default='')
    house_number = models.CharField('Номер дома', max_length=255, default='')
    lat_coords = models.CharField('Широта адреса', max_length=255, default='')
    long_coords = models.CharField('Долгота адреса', max_length=255, default='')

Table advertisement
    Объявление:
    Количество комнат choisefield : Optional(
        студия,1-комнатная,2-комнатная,
        3-комнатная,4-комнатная,
        5 и больше -комнатная ,
        свободная планировка
        )
    title заголовок обьявления
    body Описание
    choisefield : Optional(вторичка ,новостройка,не выбрано)
    price цена 
    общая площадь 
    жилая площадь 
    address ForeignKey Table address
    user int
    количество этажей в доме int Optional
    Отделка: choisefield (без отделки c отделкой не выбрано)
    этаж int Optional
    choisefield : Optional(балкон ,лоджия,не выбрано)
    сан узел : Optional(совмещенный  ,раздельный,не выбрано)
    тип дома choisefield Optional(кирпичный   ,панельный,блочный,монолитный,монолитный-кирпичный,деревянный)
    boolean лифт (true/false)
    

Фотографии обьявления:
    https://github.com/akproger/poiskuslug/blob/main/api/ads/models/image_ads.py
________________________________________________________________________________


Оставляем user
          email_message
                        в основном main, остальное в отдельный main в 
byesell_advertisement. Так правильнее!
________________________________________________________________________________
Создать поля создания и обновления в объявлении недвижки, и кол-ва просмотров
________________________________________________________________________________

Команды alembic:

alembic stamp head
alembic revision --autogenerate -m "made some changes"
alembic upgrade head

и nullable=True обязательно у нового поля...

Чтоб alembic работал, нужно удалить все файлы в /api/alembic/versions/
и таблицу alembic_version в базе данных(/api/database.db)


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Основная страница - main корневой:
http://localhost:8000/api/v1/docs

Страница документации услуг:
http://localhost:8000/api/v1/advertisement/docs

Страница документации недвижимости:
http://localhost:8000/api/v1/apartments/docs/

Это всё указано в http://localhost:8000/api/v1/openapi.json
в разделе(директиве) "servers:"

после окончания разработки можно убрать будет, а можно оставить, 
будет как шпаргалка по url-ам для фронтендера )) ;-)

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

Authorize: AuthJWT = Depends()
Authorize.jwt_required()
    current_user = Authorize.get_jwt_subject()
    user = await User.objects.get(id=current_user)
